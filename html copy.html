<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiment</title>
    <link rel="stylesheet" type="text/css" href="./style/api.css">
    <link rel="stylesheet" type="text/css" href="./style/tickerDetails.css">
    <link rel="stylesheet" type="text/css" href="./style/analyzeDetails.css">
    <script src="https://bundle.run/buffer@6.0.3"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/protobufjs/7.2.6/protobuf.js"></script>
</head>

<body>
    <div class="tabs">
        <button class="tab-button" onclick="showTab(1)">Ticker list</button>
        <button class="tab-button active" onclick="showTab(2)">Details</button>
        <button class="tab-button" onclick="showTab(3)">Analyze</button>
    </div>
    <div class="tab-panel">
        <div id="center-buttons">
            <button onclick="start()" style="color: green;margin-right: 5px;">Start</button>
            <button onclick="stop()" style="color: red;margin-right: 5px;">Stop</button>
            <button onclick="editTickers()" style="margin-right: 5px;">Edit Tickers</button>
            <button onclick="editCells()" style="margin-right: 5px;">Edit Cells</button>
        </div>

        <div id="editFormTickers" style="display: none;">
            <form id="edit-tickers-form">
                <label>
                    <input type="radio" name="choice" value="add"> Add
                </label>
                <br>
                <label>
                    <input type="radio" name="choice" value="remove"> Remove
                </label>
                <br>
                <br>
                <label><input type="text" name="name" placeholder="Enter stock name">
                </label>
                <br><br>
                <label><input type="text" name="value" placeholder="Enter value to be shown">
                </label>
                <br>
                <br>

                <button id="editTickersSubmitBtn">Submit</button>
                <p id="msg-box-ticker"></p>
            </form>
        </div>
        <div id="checkbox" style="display: none;">
            <div id="checkboxContainer"></div>
            <br>
            <div>
                <button id="cellSubmitBtn" style="margin-left: auto;margin-right: auto;">Submit Change</button>
            </div>

        </div>

        <table id="myTable">
            <tbody id="myTableBody"></tbody>
            <thead>
                <tr>
                    <th style="width: 60px;">Time</th>
                    <th>Ticker 1
                <tr>
                    <td>name</td>
                    <td>price</td>
                    <td>change</td>
                </tr>
                </th>
                <th>Ticker 2<tr>
                        <td>name</td>
                        <td>price</td>
                        <td>change</td>
                    </tr>
                </th>
                <th>Ticker 3<tr>
                        <td>name</td>
                        <td>price</td>
                        <td>change</td>
                    </tr>
                </th>
                <th>Ticker 4<tr>
                        <td>name</td>
                        <td>price</td>
                        <td>change</td>
                    </tr>
                </th>
                <th>Ticker 5<tr>
                        <td>name</td>
                        <td>price</td>
                        <td>change</td>
                    </tr>
                </th>
                <th>Ticker 6<tr>
                        <td>name</td>
                        <td>price</td>
                        <td>change</td>
                    </tr>
                </th>
                </tr>
                <tr></tr>
            </thead>
        </table>
    </div>
    <div class="tab-panel active">
        <div id="ticker-details">
            <h2>Stock List</h2>
            <div id="websocket-connection" style="color: black; font-weight: 600; color: green;"><label
                    class="checkbox"><input type="checkbox" onclick="fetchDetails(this)"></label><span class="">Start
                    connection</span></div>
            <p style="font-size: x-small; font-style: italic; text-align: center;">(Hint: First select stock name from
                the list and then start the connection.)</p>
            <ul id="ticker-list">
                <li><label class="checkbox"><input type="checkbox" name="^NSEI" value="Nifty 50"
                            onclick="addDetails(this)"></label><span class="checkmark">Nifty 50</span></li>
                <li><label class="checkbox"><input type="checkbox" name="TATAMOTORS.NS" value="TATA Motors"
                            onclick="addDetails(this)"></label><span class="checkmark">TATA Motors</span></li>
                <li><label class="checkbox"><input type="checkbox" name="INFY.NS" value="Infosys"
                            onclick="addDetails(this)"></label><span class="checkmark">Infosys</span></li>
                <li><label class="checkbox"><input type="checkbox" name="NCC.NS" value="NCC LTD"
                            onclick="addDetails(this)"></label><span class="checkmark">NCC LTD</span></li>
                <li><label class="checkbox"><input type="checkbox" name="HAL.NS" value="HAL"
                            onclick="addDetails(this)"></label><span class="checkmark">HAL</span></li>
                <li><label class="checkbox"><input type="checkbox" name="ICICIB22.NS" value="ICICIB22"
                            onclick="addDetails(this)"></label><span class="checkmark">ICICIB22</span></li>
                <li><label class="checkbox"><input type="checkbox" name="ONGC.NS" value="ONGC"
                            onclick="addDetails(this)"></label><span class="checkmark">ONGC</span></li>
                <li><label class="checkbox"><input type="checkbox" name="CESC.NS" value="CESC"
                            onclick="addDetails(this)"></label><span class="checkmark">CESC</span></li>
                <li><label class="checkbox"><input type="checkbox" name="AAPL" value="APPLE INC"
                            onclick="addDetails(this)"></label><span class="checkmark">APPLE INC</span></li>
                <li><label class="checkbox"><input type="checkbox" name="GOOG" value="Alphabet"
                            onclick="addDetails(this)"></label><span class="checkmark">Alphabet</span></li>
            </ul>
        </div>
    </div>
    <div class="tab-panel">
        <div id="center-buttons">
            <button onclick="startAnalyze()" style="color: green;margin-right: 5px;">Start</button>
            <button onclick="stopAnalyze()" style="color: red;margin-right: 5px;">Stop</button>
            <button id="edit-tickers" style="margin-right: 5px;">Edit List</button>
        </div>
        <div class="modal-overlay" id="modal-overlay">
            <div class="modal-box">
                <span class="close-modal" id="close-modal"></span>
                <h2>Edit Stock Tickers</h2>
                <div id="ticker-form">
                    <!-- Dynamically populated form fields will go here -->
                </div>
                <div id="center-buttons">
                    <button id="add-ticker" style="color: rgb(0, 0, 0);margin-right: 5px;">Add New Ticker</button>
                    <button id="save-tickers" style="color: rgb(0, 0, 0);margin-right: 5px;">Save Changes</button>
                </div>
            </div>
        </div>
        <div id="analyze-details-tab">
            <div class="card" data-id="notapplicable/inidicesindia/in%3BNSX">
                <div class="stock-name">Nifty 50</div>
                <div class="current-price">0</div>
                <div class="details">
                    Chg: 0 (0%) |
                    O: 0 | H: 0 | L: 0
                </div>
                <div class="list-container">
                    <ul class="card-list bid-list">
                        <li><strong>Bid List:</strong></li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                    </ul>
                    <ul class="card-list ask-list">
                        <li><strong>Ask List:</strong></li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                    </ul>
                </div>
                <div class="volume">Volume: 0</div>
            </div>
            <div class="card" data-id="TEL">
                <div class="stock-name">Tata Motors</div>
                <div class="current-price">0</div>
                <div class="details">
                    Chg: 0 (0%) |
                    O: 0 | H: 0 | L: 0
                </div>
                <div class="list-container">
                    <ul class="card-list bid-list">
                        <li><strong>Bid List:</strong></li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                    </ul>
                    <ul class="card-list ask-list">
                        <li><strong>Ask List:</strong></li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                    </ul>
                </div>
                <div class="volume">Volume: 0</div>
            </div>
            <div class="card" data-id="IT">
                <div class="stock-name">Infosys</div>
                <div class="current-price">0</div>
                <div class="details">
                    Chg: 0 (0%) |
                    O: 0 | H: 0 | L: 0
                </div>
                <div class="list-container">
                    <ul class="card-list bid-list">
                        <li><strong>Bid List:</strong></li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                    </ul>
                    <ul class="card-list ask-list">
                        <li><strong>Ask List:</strong></li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                    </ul>
                </div>
                <div class="volume">Volume: 0</div>
            </div>
            <div class="card" data-id="NCC01">
                <div class="stock-name">NCC Ltd</div>
                <div class="current-price">0</div>
                <div class="details">
                    Chg: 0 (0%) |
                    O: 0 | H: 0 | L: 0
                </div>
                <div class="list-container">
                    <ul class="card-list bid-list">
                        <li><strong>Bid List:</strong></li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                    </ul>
                    <ul class="card-list ask-list">
                        <li><strong>Ask List:</strong></li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                    </ul>
                </div>
                <div class="volume">Volume: 0</div>
            </div>
            <div class="card" data-id="HAL">
                <div class="stock-name">HAL</div>
                <div class="current-price">0</div>
                <div class="details">
                    Chg: 0 (0%) |
                    O: 0 | H: 0 | L: 0
                </div>
                <div class="list-container">
                    <ul class="card-list bid-list">
                        <li><strong>Bid List:</strong></li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                    </ul>
                    <ul class="card-list ask-list">
                        <li><strong>Ask List:</strong></li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                    </ul>
                </div>
                <div class="volume">Volume: 0</div>
            </div>
            <div class="card" data-id="ICI15">
                <div class="stock-name">ICICIB22</div>
                <div class="current-price">0</div>
                <div class="details">
                    Chg: 0 (0%) |
                    O: 0 | H: 0 | L: 0
                </div>
                <div class="list-container">
                    <ul class="card-list bid-list">
                        <li><strong>Bid List:</strong></li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                    </ul>
                    <ul class="card-list ask-list">
                        <li><strong>Ask List:</strong></li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                    </ul>
                </div>
                <div class="volume">Volume: 0</div>
            </div>
            <div class="card" data-id="ONG">
                <div class="stock-name">ONGC</div>
                <div class="current-price">0</div>
                <div class="details">
                    Chg: 0 (0%) |
                    O: 0 | H: 0 | L: 0
                </div>
                <div class="list-container">
                    <ul class="card-list bid-list">
                        <li><strong>Bid List:</strong></li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                    </ul>
                    <ul class="card-list ask-list">
                        <li><strong>Ask List:</strong></li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                    </ul>
                </div>
                <div class="volume">Volume: 0</div>
            </div>
            <div class="card" data-id="CES">
                <div class="stock-name">CESC</div>
                <div class="current-price">0</div>
                <div class="details">
                    Chg: 0 (0%) |
                    O: 0 | H: 0 | L: 0
                </div>
                <div class="list-container">
                    <ul class="card-list bid-list">
                        <li><strong>Bid List:</strong></li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                        <li>0 x 0</li>
                    </ul>
                    <ul class="card-list ask-list">
                        <li><strong>Ask List:</strong></li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                        <li>0 x N/A</li>
                    </ul>
                </div>
                <div class="volume">Volume: 0</div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script type="text/javascript" src="./code/variables.js"></script>
    <script type="text/javascript" src="./code/api.js"></script>
    <script type="text/javascript" src="./code/tickerDetails.js"></script>
    <script type="text/javascript" src="./code/analyzeDetails.js"></script>


</body>

</html>